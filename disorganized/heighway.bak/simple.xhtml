<!DOCTYPE html><html xmlns='http://www.w3.org/1999/xhtml'><head><style type='text/css'>
body { font: 12pt Courier New; }
.comment { position: absolute; bottom: 10pt; right: 10pt; border: 1px red dotted; text-align: right; width: 18%; height: 96%; }
/* .svg_frame { position: absolute; top: 4px; left: 4px; height: 660px; width: 1300px; border: 1px black dashed; } */
.svg_frame { position: absolute; top: 4px; left: 4px; border: 1px black dashed; }
</style>
<script type='text/ecmascript' src='./old/SVG OOP.js'></script>
<script type='text/ecmascript'>// <![CDATA[
var o,b,g,rb,rl;
var xi,yi,sz,hx,hy,cc;
var gf=[function(){ g.line(xi,yi,xi,yi+=sz,rb[cc]); },function(){ g.line(xi,yi,xi+=sz,yi,rb[cc]); },function(){ g.line(xi,yi,xi,yi-=sz,rb[cc]); },function(){ g.line(xi,yi,xi-=sz,yi,rb[cc]); },function(){ cc=((cc+1)%rl); /*g.circle(2,xi,yi,rb[ cc=((cc+1)%rl) ]);*/ }];

function heighway(){
 var h=[];
}

heighway.prototype.compute = function(){
}

function HeighwayEnds(n){ var i=0; g.circle(2,0,0,rb[ (i++)%rl ]); g.circle(2,hx,hy,rb[ (i++)%rl ]); while(--n){ hxp=hx; hyp=hy; hx+=hyp; hy-=hxp; g.circle(2,hx,hy,rb[ (i++)%rl ]); } }
function computeHeighway(n,hei){
 while(n--){
  var gei=[4];
  for(var i=0; i<hei.length; i++) if(hei[i]!=4) gei.unshift( (hei[i]+1)%4 );
  hei=hei.concat(gei);
 }
 hei.unshift(4);
// return hei;
}
function drawHeighway(hei){
 for(var i=0; i<hei.length; i++){
  if( (hei[i]==4)&&(hei[i+1]==4) ){ i++; };
  gf[hei[i]]();
 }
}

function turnHeighway(t,hei){ for(var i=0; i<hei.length; i++){ if(hei[i]!=4){ hei[i]=( (hei[i]+t)%4 ) } } }

function load(){ o = document.getElementById('outer'); // b = new debug_box(o,'comment');
 var vw=1300; var vh=660;
 g = new SVG_Element(o,'svg_frame','-'+(vw/2)+' -'+(vh/2)+' '+(vw)+' '+(vh));
 g.style.height = vh; g.style.width = vw;
 g.rect(vw,vh,-vw/2,-vh/2,null,null,'white');

 xi=0; yi=0; sz=5; hx=sz; hy=sz; cc=-1;
// rb=['black'];
// rb=['#FF0000','#878700','#00FF00','#008787','#0000FF','#870087'];
// rb=['red','black','orange','black'];
 rb=['red','orange','blue','purple'];
 rl=rb.length;
 var hl = 8;
// rb=['silver'];
// HeighwayEnds(hl);

 var hei=[0];
 computeHeighway(hl,hei);
 drawHeighway(hei);

}// ]]></script></head><body id='outer' onload='load();'> </body></html>
